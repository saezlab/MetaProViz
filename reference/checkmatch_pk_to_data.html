<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check and summarize prior_knowledge-to-MeasuredFeatures relationship — checkmatch_pk_to_data • MetaProViz</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Check and summarize prior_knowledge-to-MeasuredFeatures relationship — checkmatch_pk_to_data"><meta name="description" content="Check and summarize prior_knowledge-to-MeasuredFeatures relationship"><meta property="og:description" content="Check and summarize prior_knowledge-to-MeasuredFeatures relationship"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MetaProViz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-book-open"></span> Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/standard-metabolomics.html">Standard Metabolomics</a></li>
    <li><a class="dropdown-item" href="../articles/core-metabolomics.html">CoRe Metabolomics</a></li>
    <li><a class="dropdown-item" href="../articles/prior-knowledge.html">Prior knowledge</a></li>
    <li><a class="dropdown-item" href="../articles/sample-metadata.html">Sample Metadata Analysis</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-solid fa-rocket"></span> Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/saezlab/MetaProViz"><span class="fa fa-brands fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://saezlab.org/"><span class="fa fas fa-university"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://frezza.cecad-labs.uni-koeln.de/home"><span class="fa fas fa-university"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Check and summarize prior_knowledge-to-MeasuredFeatures relationship</h1>
      <small class="dont-index">Source: <a href="https://github.com/saezlab/MetaProViz/blob/main/R/RefactorPriorKnoweldge.R" class="external-link"><code>R/RefactorPriorKnoweldge.R</code></a></small>
      <div class="d-none name"><code>checkmatch_pk_to_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Check and summarize prior_knowledge-to-MeasuredFeatures relationship</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">checkmatch_pk_to_data</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">input_pk</span>,</span>
<span>  metadata_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>InputID <span class="op">=</span> <span class="st">"HMDB"</span>, PriorID <span class="op">=</span> <span class="st">"HMDB"</span>, grouping_variable <span class="op">=</span> <span class="st">"term"</span><span class="op">)</span>,</span>
<span>  save_table <span class="op">=</span> <span class="st">"csv"</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>dataframe with at least one column with the detected metabolite IDs (e.g. HMDB). If there are multiple IDs per detected peak, please separate them by comma ("," or ", " or chr list). If there is a main ID and additional IDs, please provide them in separate columns.</p></dd>


<dt id="arg-input-pk">input_pk<a class="anchor" aria-label="anchor" href="#arg-input-pk"></a></dt>
<dd><p>dataframe with at least one column with the metabolite ID (e.g. HMDB) that need to match data metabolite IDs "source" (e.g. term). If there are multiple IDs, as the original pathway IDs (e.g. KEGG) where translated (e.g. to HMDB), please separate them by comma ("," or ", " or chr list).</p></dd>


<dt id="arg-metadata-info">metadata_info<a class="anchor" aria-label="anchor" href="#arg-metadata-info"></a></dt>
<dd><p>Colum name of Metabolite IDs in data and input_pk as well as column name of grouping_variable in input_pk. <strong>Default = c(InputID="HMDB", PriorID="HMDB", grouping_variable="term")</strong></p></dd>


<dt id="arg-save-table">save_table<a class="anchor" aria-label="anchor" href="#arg-save-table"></a></dt>
<dd><p><em>Optional: </em> File types for the analysis results are: "csv", "xlsx", "txt". <strong>Default = "csv"</strong></p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Optional: Path to the folder the results should be saved at. <strong>Default = NULL</strong></p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">DetectedIDs</span> <span class="op">&lt;-</span>  <span class="va">cellular_meta</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"Metabolite"</span>, <span class="st">"HMDB"</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span><span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">input_pathway</span> <span class="op">&lt;-</span> <span class="fu">MetaProViz</span><span class="fu">::</span><span class="fu"><a href="translate_id.html">translate_id</a></span><span class="op">(</span>data<span class="op">=</span> <span class="fu">MetaProViz</span><span class="fu">::</span><span class="fu"><a href="metsigdb_kegg.html">metsigdb_kegg</a></span><span class="op">(</span><span class="op">)</span>, metadata_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>InputID<span class="op">=</span><span class="st">"MetaboliteID"</span>, grouping_variable<span class="op">=</span><span class="st">"term"</span><span class="op">)</span>, from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"kegg"</span><span class="op">)</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hmdb"</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="st">"TranslatedDF"</span><span class="op">]</span><span class="op">]</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span><span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Res</span> <span class="op">&lt;-</span> <span class="fu">MetaProViz</span><span class="fu">::</span><span class="fu">checkmatch_pk_to_data</span><span class="op">(</span>data<span class="op">=</span> <span class="va">DetectedIDs</span>, input_pk<span class="op">=</span> <span class="va">input_pathway</span>, metadata_info <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>InputID<span class="op">=</span><span class="st">"HMDB"</span>, PriorID<span class="op">=</span><span class="st">"hmdb"</span>, grouping_variable<span class="op">=</span><span class="st">"term"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>4 duplicated IDs were removed from column HMDB</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>8802 duplicated IDs were removed from PK column hmdb</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in mutate(., Count_FeatureIDs_to_GroupingVariable = case_when(is.na(!!sym(metadata_info[["grouping_variable"]])) ~     NA_integer_, TRUE ~ n_distinct(!!sym(metadata_info[["PriorID"]]),     na.rm = TRUE))):</span> <span style="color: #00BBBB;">ℹ</span> In argument: `Count_FeatureIDs_to_GroupingVariable = case_when(...)`.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> In group 1: `HMDB = "HMDB0000001"` `term = "Histidine metabolism, Metabolic</span>
<span class="r-err co"><span class="r-pr">#&gt;</span>   pathways"`.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Caused by error in `case_when()`:</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> Failed to evaluate the right-hand side of formula 2.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Caused by error in `n_distinct()`:</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> could not find function "n_distinct"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christina Schmidt, Denes Turei, Dimitrios Prymidis, Macabe Daley, Julio Saez-Rodriguez, Christian Frezza.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

